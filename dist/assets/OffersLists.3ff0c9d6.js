import{f as y,g as k,h as b,o as p,c as h,d as e,b as f,t as i,j as _,e as v,R as C,S as c,r as I,a as $,m as B,F as N,n as S}from"./index.da8c82bf.js";const R={class:"bg-white rounded border border-red m-6 p-2"},A={class:"flex space-x-2"},D={class:"justify-center pt-4 pl-7"},P={class:"flex space-x-10"},T=e("span",{class:"ml-1"},"stars",-1),Y=e("span",{class:"mr-1"},"%",-1),V=e("div",{class:"py-1 px-2"},null,-1),j={class:"p-3"},L={class:"bg-gray-200 rounded py-2 px-3 text-center"},M={class:"py-1 px-2 flex justify-between m-1"},E={class:"text-blue-900 text-center font-semibold border rounded py-1 px-2 mt-4"},F=e("p",null,"Reply",-1),O=[F],U=e("p",null,"employ",-1),q=[U],z={class:"bg-gray-200"},G={__name:"ClientOfferCard",props:{name:String,message:String,taskerId:String,taskId:String,rating:{type:Number,validator:n=>Number.isInteger(parseInt(n))},CompletionPercentage:{type:Number,validator:n=>Number.isInteger(parseInt(n))},minutesAgo:{type:Number,validator:n=>Number.isInteger(parseInt(n))}},setup(n){const l=n,d=y(),u=k(),r=d.params.id,g=l.taskerId,o=l.taskId,a=()=>{c.fire({title:"Are you sure?",text:"You want to employ this tasker!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, I want to employ!"}).then(s=>{s.isConfirmed?c.fire("Proceed to the payment page to complete employment process","Your money will be on hold untill the tasker completes the task.","warning").then(()=>{u.push(`/client/task/${r}/pay?tasker_id=${g}`)}):s.dismiss===c.DismissReason.cancel&&c.fire("Cancelled succesfully","You have succesfully cancelled the operation.","error")})},t=()=>{c.fire({title:"Are you sure?",text:"You want to open private chat with tasker!",icon:"warning",showCancelButton:!0,confirmButtonText:"ok",cancelButtonText:"cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(s=>{s.isConfirmed&&u.push(`/client/task/${o}/offer/${r}/chats`)})};return(s,m)=>{const x=b("v-avatar");return p(),h("div",R,[e("div",A,[e("div",D,[f(x,{image:""})]),e("div",P,[e("div",null,[e("div",null,"user"+i(n.name),1),e("div",null,[_(i(n.rating)+"/5",1),T]),e("div",null,[_(i(n.CompletionPercentage),1),Y,_("Completion rate")])]),V])]),e("div",j,[e("div",L,i(n.message),1),e("div",M,[e("p",E,"posted "+i(n.minutesAgo),1),e("div",null,[e("button",{class:"bg-green-600 text-white py-1 px-3 rounded-lg items-center flex",onClick:m[0]||(m[0]=w=>t())},O)]),e("div",null,[e("button",{class:"bg-green-600 text-white py-1 px-3 rounded-lg items-center flex",onClick:m[1]||(m[1]=w=>a())},q)])])]),e("div",z,[f(v(C))])])}}},H={class:"m-2 space-y-5"},K={__name:"OffersLists",setup(n){const l=y();k();const d=l.params.id,u=new URLSearchParams([["task_id",d]]),r=I({categories:[],offers:[]});function g(o){const t=(new Date().getTime()-new Date(o).getTime())/1e3;if(t<60)return"now";if(t<3600){const s=Math.floor(t/60);return`${s} minute${s>1?"s":""} ago`}else if(t<86400){const s=Math.floor(t/3600);return`${s} hour${s>1?"s":""} ago`}else{const s=Math.floor(t/86400);return`${s} day${s>1?"s":""} ago`}}return $.get("http://127.0.0.1:8000/api/client/task-offer",{params:u}).then(o=>{r.offers.push(...o.data.map(a=>({...a,created_at:g(a.created_at)})))}),(o,a)=>(p(!0),h(N,null,B(r.offers,t=>(p(),h("div",H,[(p(),S(G,{key:t.id,name:t.tasker_id,CompletionPercentage:t.status,message:t.content,minutesAgo:t.created_at,taskerId:t.tasker_id,taskId:v(d)},null,8,["name","CompletionPercentage","message","minutesAgo","taskerId","taskId"]))]))),256))}};export{K as default};
