import{_ as x}from"./TaskerNav.01f69a8b.js";import{T as b}from"./TaskerSideBar.f298bd2f.js";import{u as v,r as k,a as _,c as r,d as t,b as c,w as y,F as h,h as m,o as i,e as T,y as C,m as w,t as s}from"./index.5c42c678.js";const S={class:"flex justify-between p-1"},A=t("p",null,"Airtaskers Pro",-1),L={class:"grid grid-cols-12 gap-2 min-h-screen bg-gray-200"},B={class:"bg-red-500 col-span-2"},N={class:"bg-white col-span-10"},D=t("h2",{class:"text-center"},"Completed Tasks",-1),I=t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Task ID "),t("th",{class:"text-left"}," Task Title "),t("th",{class:"text-left"}," client Name "),t("th",{class:"text-left"}," Deadline "),t("th",{class:"text-left"}," Amount "),t("th",{class:"text-left"}," Actions ")])],-1),P={key:0,class:"text-center"},V=["onClick"],E={__name:"CompletedTasks",setup(F){const n=v(),o=k([]),p=n.user.id,f=new URLSearchParams([["user_id",p]]);console.log(p),n.isLoading=!0,_.get("http://127.0.0.1:8000/api/tasker-completed-tasks",{params:f}).then(a=>{o.push(...a.data),n.isLoading=!1}),console.log(o);const g=a=>{_.put(`http://127.0.0.1:8000/api/tasks/${a}/status`,{status:"completed"}).then(d=>{const l=o.findIndex(u=>u.id===a);l!==-1&&(o[l].status="completed")}).catch(d=>{console.error(d)})};return(a,d)=>{const l=m("v-progress-circular"),u=m("v-table");return i(),r(h,null,[t("div",S,[A,c(x)]),t("div",L,[t("div",B,[c(b)]),t("div",N,[D,c(u,{"fixed-header":"",height:"300px"},{default:y(()=>[I,t("tbody",null,[T(n).isLoading?(i(),r("div",P,[c(l,{size:50,color:"primary",indeterminate:""})])):C("",!0),(i(!0),r(h,null,w(o,e=>(i(),r("tr",{key:e.id},[t("td",null,s(e.id),1),t("td",null,s(e.title),1),t("td",null,s(e.amount),1),t("td",null,s(e.clie),1),t("td",null,s(e.gender),1),t("td",null,s(e.country),1),t("td",null,[t("button",{onClick:()=>g(e.id),class:"bg-blue-500 rounded-md py-1 px-2 text-white mx-2"},"Paid",8,V)])]))),128))])]),_:1})])])],64)}}};export{E as default};
